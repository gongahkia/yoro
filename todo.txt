YORO - PRD & TODO
Markdown-first visual note-taking web app optimized for studying
No database | Local-first | Live-preview markdown | Native mindmaps & diagrams

=== CORE INFRASTRUCTURE ===





(A) Build note list/grid view with search and filter by tags
(A) Implement create/delete/duplicate note operations
(A) Add keyboard shortcuts system (Ctrl+N new note, Ctrl+K search, etc)
(A) Design ultra-minimalist layout: centered typing area, nothing else on screen by default
(A) Set up routing for multi-note navigation without page reload
(B) Add PWA manifest for installable web app experience
(B) Implement service worker for offline functionality
(C) Add analytics events (privacy-focused, no tracking) for feature usage

=== PRIORITY 1: MARKDOWN EDITOR (Obsidian-style live preview) ===
(A) Integrate CodeMirror 6 as the core editing engine
(A) Implement Obsidian-style live preview: write markdown, render inline as rich text
(A) Rendered output replaces raw markdown in-place while editing (no split pane by default)
(A) Cursor entering a formatted block reveals underlying markdown syntax for editing
(A) Support GitHub Flavored Markdown as the base syntax spec
(A) Support bold, italic, underline, strikethrough with inline live preview
(A) Add heading levels H1-H6 rendered inline with proper sizing and weight
(A) Implement bulleted and numbered lists with nesting, rendered inline
(A) Add blockquotes rendered with styled left border and muted text
(A) Implement code blocks with syntax highlighting (highlight.js or Shiki)
(A) Support inline code with distinct monospace styling
(A) Support task lists with interactive checkboxes [ ] and [x]
(A) Implement tables with Doom Emacs-style interaction:
    - Tab to move between cells
    - Auto-align columns on input
    - Auto-expand table width as content grows
    - Enter to create new rows
    - Shortcut to add/remove columns
    - Pipe-based markdown syntax rendered as clean table grid
(A) Support link insertion with inline preview and clickable rendered links
(A) Add image paste from clipboard, drag-drop, and markdown syntax (stored as base64)
(A) Images render inline within the document at appropriate size
(A) Support horizontal rules rendered as styled dividers
(A) Implement auto-completion for markdown syntax (e.g. auto-close brackets, lists)
(A) Support front matter (YAML) for note metadata, collapsed by default
(B) Add syntax highlighting for fenced code blocks in 30+ languages
(B) Implement smart list continuation (Enter continues list, Enter on empty item exits)
(B) Support footnotes with rendered popup/inline preview
(B) Add math/LaTeX rendering with KaTeX for inline ($...$) and block ($$...$$)
(B) Implement auto-pairing for markdown syntax (**, `, _, etc)
(B) Support text highlight/mark syntax (==highlight==)
(B) Add callout/admonition blocks (note, warning, tip, etc) with icons
(C) Add markdown templates for common study formats
(C) Support emoji shortcodes with autocomplete (:smile: etc)
(C) Add Vim keybinding mode as an option

=== PRIORITY 2A: COMMAND PALETTE ===
(A) Build command palette overlay triggered by Ctrl+Shift+P / Cmd+Shift+P
(A) Palette appears centered on screen with fuzzy search input
(A) All application settings accessible exclusively through the command palette
(A) Implement fuzzy matching for command search with ranked results
(A) Add commands: theme switching, font settings, editor preferences
(A) Add commands: new note, open note, delete note, duplicate note
(A) Add commands: export current note, export all notes
(A) Add commands: toggle focus mode, toggle sidebar, toggle line numbers
(A) Add commands: insert table, insert code block, insert horizontal rule
(A) Add commands: toggle vim mode, toggle spellcheck
(A) Show keyboard shortcut hints alongside each command
(A) Support recent commands list for quick re-access
(B) Add commands: note linking, tag management, search and replace
(B) Implement command categories/grouping for organized browsing
(B) Support parameterized commands (e.g. "Set font size" then type a number)
(B) Add commands: flashcard mode, pomodoro timer, study stats
(C) Support user-defined custom commands and macros
(C) Add command history with frequency-based sorting

=== PRIORITY 2B: MINDMAPPING FEATURES ===
(A) Build native mindmap component with node-edge graph
(A) Support central topic node with branching child nodes
(A) Implement drag-and-drop node repositioning
(A) Add/delete/edit nodes with keyboard shortcuts
(A) Support collapsing and expanding branches
(A) Add node colors and icons for categorization
(A) Implement automatic layout algorithm (radial or tree)
(A) Seamless toggle between markdown editor and mindmap mode per note
(A) Store mindmap data alongside note content with proper serialization
(A) Convert markdown headings and lists into mindmap nodes automatically
(B) Support different node shapes (rectangle, circle, rounded)
(B) Add edge styling (straight, curved, orthogonal)
(B) Implement node relationships beyond parent-child
(B) Support floating notes and images on mindmap
(B) Add zoom and pan controls for large mindmaps
(B) Implement minimap for navigation
(C) Add mindmap export as image or structured format
(C) Support importing from other mindmap tools
(C) Add AI-assisted mindmap generation from text notes

=== PRIORITY 3: EXCALIDRAW INTEGRATION ===
(B) Embed Excalidraw library as a drawing mode within notes
(B) Create toggle between text editing and drawing mode
(B) Store Excalidraw data in note content with proper serialization
(B) Support basic shapes: rectangle, circle, arrow, line, text
(B) Implement freehand drawing with pen tool
(B) Add selection, move, resize, and rotate tools
(B) Support multiple colors and stroke widths
(B) Implement layers/z-index control (bring to front, send to back)
(B) Add eraser tool for removing elements
(B) Support grouping and ungrouping elements
(C) Implement snap-to-grid and alignment guides
(C) Add shape libraries for common study diagrams (biology, chemistry, etc)
(C) Support image insertion into drawings
(C) Add arrow connectors that stick to shapes
(C) Add export drawing as PNG/SVG
(C) Support drawing templates (flowchart, org chart)

=== PRIORITY 4: MERMAID DIAGRAMS ===
(B) Integrate Mermaid.js for code-to-diagram rendering within fenced code blocks
(B) Support flowcharts with standard notation
(B) Support sequence diagrams for process flows
(B) Add class diagrams for OOP concepts
(B) Implement state diagrams for FSM visualization
(C) Support ER diagrams for database design
(C) Add Gantt charts for project planning
(C) Implement pie charts and bar charts for data viz
(C) Support git graphs for version control concepts
(C) Add live preview while typing mermaid code
(C) Implement syntax validation and error highlighting

=== THEME SYSTEM ===
(A) Design theme structure: colors, fonts, spacing, editor styles
(A) Implement light theme as default
(A) Implement dark theme with OLED-friendly option
(A) Add sepia/reading theme for reduced eye strain
(A) Create dracula/monokai theme for developers
(B) Support custom theme creation via command palette
(B) Add theme preview before applying
(B) Store theme preference in localStorage
(B) Implement theme sync with system dark mode
(C) Create themed templates for different subjects
(C) Add seasonal/festive theme packs
(C) Support theme import/export as JSON

=== STORAGE & PERSISTENCE ===
(A) Implement auto-save every 2-3 seconds while editing
(A) Add visual indicator for save status (saved/saving/error) — minimal, unobtrusive
(A) Handle localStorage quota exceeded errors gracefully
(A) Implement note compression for larger storage capacity
(A) Add warning when storage is 80%+ full
(B) Support clearing old notes or unused data
(B) Implement note archiving system
(B) Add data integrity check on app load
(C) Support export all notes as single JSON file
(C) Add import from JSON backup file

=== STUDY-SPECIFIC FEATURES ===
(A) Add flashcard mode: convert notes to Q&A cards
(A) Implement spaced repetition algorithm for flashcard review
(A) Support Cornell note-taking template
(A) Add Pomodoro timer integration for study sessions
(B) Implement note linking and backlinks for Zettelkasten method
(B) Add tag-based organization and tag cloud
(B) Support note templates for different subjects
(B) Add quick capture mode for rapid note entry
(C) Implement daily notes with automatic date insertion
(C) Add study statistics and insights dashboard
(C) Support bibliography and citation management

=== EXPORT CAPABILITIES ===
(A) Export individual note as markdown file
(A) Export rich text notes as HTML
(A) Export drawings as PNG with transparent background
(B) Export entire workspace as ZIP archive
(B) Support PDF export with proper formatting
(C) Add print-friendly CSS for physical notes

=== UI/UX POLISH ===
(A) Ultra-minimalist interface: centered typing area dominates the screen
(A) No visible toolbar, menubar, or chrome by default — just the document
(A) Sidebar hidden by default, toggled via command palette or keyboard shortcut
(A) Implement smooth transitions and animations (subtle, non-distracting)
(A) Add loading states and skeleton screens
(A) Support drag-and-drop note reordering (when sidebar is visible)
(A) Implement context menus for quick actions
(B) Add tooltips and onboarding for first-time users
(B) Support keyboard navigation for accessibility
(B) Implement focus mode that dims everything except current paragraph
(C) Add customizable workspace layouts
(C) Support split-pane editing for referencing multiple notes

=== TECHNICAL DEBT & OPTIMIZATION ===
(B) Add comprehensive error boundaries and fallbacks
(B) Implement lazy loading for heavy components (Excalidraw, Mermaid)
(B) Optimize re-renders with React.memo and useMemo
(B) Add unit tests for core functionality
(B) Implement E2E tests for critical user flows
(C) Add performance monitoring and optimization
(C) Audit bundle size and optimize imports
(C) Implement code splitting for faster initial load

Priority Legend: (A) = Must have | (B) = Should have | (C) = Nice to have
Feature Priority Order: 1. Markdown Editor → 2A. Command Palette → 2B. Mindmaps → 3. Excalidraw → 4. Mermaid
